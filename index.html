<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>All Assignments ‚Äì Combined</title>

<!-- Libraries -->
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>
<link href="https://fonts.cdnfonts.com/css/sf-pro-display" rel="stylesheet">

<style>
  /* ========== Global layout from all.html ========== */
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: #f4f4f4;
  }

  /* Top Navigation */
  .navbar {
    position: sticky;
    top: 0;
    background: #333;
    padding: 12px 20px;
    color: white;
    z-index: 999;
  }
  .navbar a {
    color: white;
    margin-right: 18px;
    text-decoration: none;
    font-size: 15px;
  }
  .navbar a:hover {
    text-decoration: underline;
  }

  /* Card container */
  .card {
    background: #ffffff;
    margin: 30px auto;
    padding: 22px;
    width: 85%;
    border-radius: 10px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.15);
  }

  /* Collapsible buttons */
  .collapse-btn {
    background: #ff7b22;
    color: white;
    padding: 10px 16px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    margin-bottom: 12px;
    font-size: 15px;
  }
  .collapse-btn:hover {
    background: #ff5a00;
  }

  /* Back to top btn */
  #topBtn {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background: #333;
    color: white;
    padding: 12px 18px;
    border-radius: 6px;
    cursor: pointer;
    display: none;
    font-size: 14px;
  }

  /* ========== Assignment 1 (PSI Dashboard) scoped styles ========== */
  .a1-root {
    font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont,
                 "Segoe UI", Roboto, sans-serif;
    background: #0d0d0d;
    color: #ffffff;
    padding: 32px;
    border-radius: 16px;
  }
  .a1-root .glass-card {
    background: #1a1a1a;
    border-left: 5px solid #e53935;
    border-radius: 16px;
    box-shadow: 0 3px 12px rgba(0,0,0,0.6);
    transition: transform 0.25s ease, box-shadow 0.25s ease;
    border: 1px solid #2a2a2a;
  }
  .a1-root .glass-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 18px rgba(0,0,0,0.8);
  }
  .a1-root .title {
    font-weight: 700;
    letter-spacing: -0.4px;
    color: #ff3b3b;
  }
  .a1-root .number {
    font-size: 44px;
    font-weight: 700;
    letter-spacing: -1px;
    color: #ff3b3b;
  }
  .a1-root .label {
    font-size: 13px;
    color: #f5f5f5;
  }
  .a1-root table thead {
    color: #ffffff;
    background: #111;
  }
  .a1-root table tbody tr:hover {
    background: rgba(229, 57, 53, 0.15);
    transition: 0.2s;
  }
  @keyframes fadeIn {
    from {opacity: 0; transform: translateY(10px);}
    to   {opacity: 1; transform: translateY(0);}
  }
  .a1-root .fade-in {
    animation: fadeIn 0.6s ease-out;
  }
  .a1-root .neon-blue { color: #ff3b3b; }
  .a1-root table td,
  .a1-root table th { color: #ffffff; }
  .a1-root .gold-text { color: #3399ff; }

  /* ========== Assignment 2 (SVG transforms) scoped styles ========== */
  .a2-root {
    background-color: white;
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 20px;
  }
  .a2-root h1 {
    color: #333;
    margin-bottom: 20px;
  }
  .a2-root table {
    border-collapse: collapse;
    margin: 0 auto;
    background-color: white;
  }
  .a2-root th,
  .a2-root td {
    border: 1px solid #ddd;
    padding: 10px;
    background-color: white;
  }
  .a2-root svg {
    width: 80px;
    height: 80px;
    transform-box: fill-box;
    transform-origin: center;
    display: block;
    margin: auto;
  }
  .a2-root .mirror { transform: scaleX(-1); }
  .a2-root .rot180 { transform: rotate(180deg); }
  .a2-root .squeezeY { transform: scaleY(0.5); }
  .a2-root .gray { filter: grayscale(100%); }

  /* ========== Assignment 3 (SVG 1‚Äì5 collection) scoped styles ========== */
  .a3-root {
    margin: 0;
    background: #ffffff;
    font-family: "Segoe UI","ÂæÆËΩØÈõÖÈªë",Arial,sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 0 80px;
  }
  .a3-root h2 {
    margin: 40px 0 20px;
    font-size: 26px;
    color: #ff7a21;
  }
  .a3-root section {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  /* === SVG 1 block === */
  .a3-root .svg1-block{
    background:#f5f5f5;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:40px;
    font-size:17px;
  }
  .a3-root .svg1-block svg{
    width:500px;
    margin-bottom:50px;
  }
  .a3-root .svg1-block .border-grow{
    stroke-dasharray:600;
    stroke-dashoffset:600;
    animation:svg1-draw 2.5s ease forwards;
  }
  @keyframes svg1-draw{
    from{stroke-dashoffset:600;}
    to{stroke-dashoffset:0;}
  }
  .a3-root .svg1-block .ac-line{
    stroke-dasharray:6 6;
    animation:svg1-dashAC 2.5s linear infinite;
  }
  @keyframes svg1-dashAC{
    0%{stroke-dashoffset:0;}
    100%{stroke-dashoffset:-60;}
  }
  .a3-root .svg1-block .bd-line{
    stroke-dasharray:6 6;
    animation:svg1-dashBD 2s linear infinite;
  }
  @keyframes svg1-dashBD{
    0%{stroke-dashoffset:0;}
    100%{stroke-dashoffset:40;}
  }
  .a3-root .svg1-block details summary{
    list-style:none;
  }
  .a3-root .svg1-block summary{
    display:inline-block;
    background:#ff7a21;
    color:white;
    padding:12px 20px;
    border-radius:8px;
    cursor:pointer;
    font-weight:600;
    font-size:17px;
    user-select:none;
    transition:0.2s;
  }
  .a3-root .svg1-block summary:hover{
    background:#ff9a4c;
  }
  .a3-root .svg1-block summary::-webkit-details-marker{
    display:none;
  }

  /* === SVG 2 block === */
  .a3-root .svg2-block{
    font-family:Arial,sans-serif;
    padding:40px;
  }
  .a3-root .svg2-block .board{
    width:673px;
    height:631px;
    border:3px solid black;
    background-image:
      linear-gradient(to right,#e5e5e5 1px,transparent 1px),
      linear-gradient(to bottom,#e5e5e5 1px,transparent 1px);
    background-size:20px 20px;
    margin-bottom:20px;
  }
  .a3-root .svg2-block .board svg{
    width:100%;
    height:100%;
  }
  .a3-root .svg2-block .cover{
    stroke:rgba(125,180,255,0.45);
    stroke-width:28;
    fill:none;
    stroke-linecap:round;
    stroke-linejoin:round;
  }
  .a3-root .svg2-block .flow{
    stroke:black;
    stroke-width:2;
    stroke-dasharray:7 9;
    fill:none;
    marker-mid:url(#arrowHead);
    animation:dashMove 2.4s linear infinite;
  }
  @keyframes dashMove{
    from{stroke-dashoffset:0;}
    to{stroke-dashoffset:-200;}
  }
  .a3-root .svg2-block .runner{
    width:50px;
    height:50px;
    fill:orange;
    stroke:#b06000;
    stroke-width:2.5;
  }
  .a3-root .svg2-block #svg2-btn{
    background:#ff8800;
    color:white;
    border:none;
    padding:14px 26px;
    font-size:18px;
    border-radius:8px;
    cursor:pointer;
    margin-top:25px;
  }
  .a3-root .svg2-block #svg2-panel{
    margin-top:10px;
    padding:16px;
    border-left:5px solid #ff8800;
    background:#fff7ef;
    display:none;
    line-height:1.7;
  }

  /* === SVG 3 block === */
  .a3-root .svg3-block{
    display:flex;
    flex-direction:column;
    align-items:center;
    padding-top:30px;
  }
  .a3-root #arm_write{
    animation:writeMove 0.8s ease-in-out infinite;
    transform-origin:345px 295px;
  }
  @keyframes writeMove{
    0%{transform:rotate(0deg);}
    50%{transform:rotate(-14deg);}
    100%{transform:rotate(0deg);}
  }
  .a3-root .svg3-block button{
    background:#ff7a00;
    color:white;
    font-size:18px;
    padding:12px 26px;
    border:none;
    border-radius:8px;
    margin-top:35px;
    cursor:pointer;
  }
  .a3-root .svg3-block button:hover{
    background:#ff8f2a;
  }
  .a3-root #svg3-steps{
    width:480px;
    border:2px dashed #ff7a00;
    border-radius:10px;
    padding:16px;
    margin-top:18px;
    display:none;
    line-height:1.55;
  }

  /* === SVG 4 block === */
  .a3-root .svg4-block{
    background:#f5f5f5;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding-top:40px;
  }
  .a3-root .svg4-block svg{
    background:white;
    margin-bottom:40px;
  }
  .a3-root .svg4-block path{
    stroke-width:3;
    fill:none;
    stroke-dasharray:900;
    stroke-dashoffset:900;
    animation:draw4 4s ease forwards;
  }
  @keyframes draw4{
    to{stroke-dashoffset:0;}
  }
  .a3-root .svg4-block .shade{
    opacity:0;
    animation:fadein4 3s ease 1.5s forwards;
  }
  @keyframes fadein4{
    to{opacity:.55;}
  }
  .a3-root .svg4-block .vline{
    stroke-dasharray:12 6;
    stroke-dashoffset:400;
    animation:dashIn4 3s ease forwards;
  }
  @keyframes dashIn4{
    to{stroke-dashoffset:0;}
  }
  .a3-root .svg4-block .btn{
    background:#ff7a00;
    color:white;
    padding:12px 22px;
    font-size:16px;
    border:none;
    border-radius:6px;
    cursor:pointer;
    font-weight:bold;
  }
  .a3-root #svg4-logBox{
    width:600px;
    border:2px solid #ff7a00;
    padding:18px;
    margin-top:20px;
    border-radius:8px;
    background:white;
    display:none;
  }

  /* === SVG 5 block === */
  .a3-root .svg5-block{
    font-family:"Segoe UI",Arial;
    background:#f5f5f5;
    padding:40px;
    text-align:center;
  }
  .a3-root .svg5-block svg{
    width:880px;
    height:620px;
    user-select:none;
  }
  .a3-root .svg5-block .btn{
    display:inline-block;
    padding:16px 42px;
    margin-top:40px;
    background:#ff7b22;
    color:white;
    font-size:22px;
    font-weight:600;
    border-radius:12px;
    cursor:pointer;
    border:none;
  }
  .a3-root .svg5-block .btn:hover{
    background:#ff5b00;
  }
  .a3-root #svg5-steps{
    width:700px;
    margin:30px auto 0;
    background:white;
    border:1px solid #ddd;
    border-radius:14px;
    padding:28px;
    font-size:19px;
    display:none;
    line-height:1.7;
  }

  /* ========== Assignment 4 (D3 heatmap) scoped styles ========== */
  .a4-root{
    font-family: "Segoe UI","Helvetica","Arial",sans-serif;
    background:#f5f5f5;
    margin:0;
    padding:40px 20px 60px;
    display:flex;
    justify-content:center;
  }
  .a4-root .wrapper{
    max-width:1150px;
    width:100%;
    background:#ffffff;
    border-radius:16px;
    box-shadow:0 12px 30px rgba(0,0,0,0.06);
    padding:28px 32px 40px;
  }
  .a4-root h1{
    margin:0 0 6px;
    font-size:24px;
    font-weight:650;
    color:#222;
  }
  .a4-root h2{
    margin:22px 0 8px;
    font-size:18px;
    color:#333;
  }
  .a4-root p{
    margin:4px 0;
    color:#555;
    font-size:14px;
    line-height:1.6;
  }
  .a4-root #chart{
    margin-top:24px;
    overflow-x:auto;
  }
  .a4-root svg{
    font-size:9px;
  }
  .a4-root .attack-label{ font-size:9px; fill:#444; }
  .a4-root .model-label text{ font-size:9px; fill:#444; }

  .a4-root .cell{
    stroke:#ffffff;
    stroke-width:1px;
    cursor:pointer;
  }
  .a4-root .cell-active{
    stroke:#111;
    stroke-width:2px;
  }

  .a4-root .tooltip{
    position:absolute;
    pointer-events:none;
    background:#222;
    color:#fff;
    padding:6px 10px;
    border-radius:6px;
    font-size:10px;
    line-height:1.4;
    opacity:0;
    transition:opacity 0.18s ease;
    box-shadow:0 6px 16px rgba(0,0,0,0.25);
    white-space:nowrap;
    z-index:10;
  }

  .a4-root .legend-label{ font-size:9px; fill:#666; }
  .a4-root .legend-title{ font-size:9px; fill:#444; font-weight:600; }

  .a4-root .pill{
    display:inline-block;
    padding:4px 10px;
    border-radius:999px;
    background:#fff5ee;
    border:1px solid #ffd0aa;
    font-size:11px;
    color:#ff7b22;
    margin-top:6px;
  }
</style>

<script>
  // Collapsible content toggle (from all.html)
  function toggle(id) {
    const box = document.getElementById(id);
    box.style.display = (box.style.display === "none") ? "block" : "none";
  }

  // Back to top button behavior
  window.onscroll = function() {
    const btn = document.getElementById("topBtn");
    btn.style.display = (document.documentElement.scrollTop > 300) ? "block" : "none";
  };
  function topFunction() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
</script>
</head>

<body>

<!-- Navigation Bar -->
<div class="navbar">
  <a href="#summary">Summary</a>
  <a href="#a1">Assignment 1</a>
  <a href="#a2">Assignment 2</a>
  <a href="#a3">Assignment 3</a>
  <a href="#a4">Assignment 4</a>
</div>

<!-- Summary Card (from all.html) -->
<div id="summary" class="card">
  <h2>Project Summary</h2>

  <button class="collapse-btn" onclick="toggle('summaryBox')">
    Show / Hide Summary
  </button>

  <div id="summaryBox" style="display:block; margin-top:12px; line-height:1.6;">
    <p>
      This project demonstrates how multiple independent HTML assignments were
      combined into a single unified webpage. Each assignment originally existed
      as a standalone file with its own structure, styles, and interactive
      features. Here, they are organised into a coherent layout while
      preserving all original interactions and animations.
    </p>
  </div>
</div>

<!-- ========== Assignment 1: PSI Dashboard ========== -->
<section id="a1" class="card">
  <h2>Assignment 1 ‚Äì Singapore PSI Monitoring</h2>
  <div class="a1-root">

    <div class="glass-card p-8 mb-10 fade-in">
      <h1 class="text-4xl title neon-blue">Singapore PSI Monitoring</h1>
      <p id="lastUpdated" class="label mt-2">Last updated: --</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12 fade-in">

      <div class="glass-card p-6 text-center">
        <p class="label">Overall PSI</p>
        <p id="overallPsi" class="number mt-2 neon-blue">--</p>
      </div>

      <div class="glass-card p-6 text-center">
        <p class="label">PM2.5 Level</p>
        <p id="pm25Level" class="number mt-2 neon-blue">--</p>
      </div>

      <div class="glass-card p-6 text-center">
        <p class="label">Worst Hit Area</p>
        <p id="worstArea" class="number mt-2 gold-text text-3xl">--</p>
      </div>

    </div>

    <div class="glass-card p-8 fade-in">
      <h2 class="text-2xl title mb-4">PSI Parameters</h2>
      <table class="w-full text-sm text-white">
        <thead class="border-b border-gray-300 text-white text-xs uppercase">
          <tr>
            <th class="py-2 text-left">Parameter</th>
            <th class="py-2 text-left">National</th>
            <th class="py-2 text-left">Central</th>
            <th class="py-2 text-left">East</th>
            <th class="py-2 text-left">West</th>
            <th class="py-2 text-left">North</th>
            <th class="py-2 text-left">South</th>
          </tr>
        </thead>
        <tbody id="psiTable"></tbody>
      </table>
    </div>

    <script>
      const tableBody = document.getElementById("psiTable");
      const overallPsiEl = document.getElementById("overallPsi");
      const pm25El = document.getElementById("pm25Level");
      const worstAreaEl = document.getElementById("worstArea");
      const lastUpdatedEl = document.getElementById("lastUpdated");

      const parameters = [
        "o3_sub_index", "pm25_sub_index", "pm10_sub_index",
        "co_sub_index", "so2_sub_index", "no2_sub_index",
        "psi_twenty_four_hourly"
      ];

      const names = {
        o3_sub_index: "O‚ÇÉ Index",
        pm25_sub_index: "PM2.5 Index",
        pm10_sub_index: "PM10 Index",
        co_sub_index: "CO Index",
        so2_sub_index: "SO‚ÇÇ Index",
        no2_sub_index: "NO‚ÇÇ Index",
        psi_twenty_four_hourly: "24h PSI"
      };

      function rand(base) {
        return Math.round(base * (0.9 + Math.random() * 0.2));
      }

      function generateMock() {
        return {
          timestamp: new Date(),
          readings: parameters.reduce((acc, key) => {
            acc[key] = {
              national: rand(50),
              central: rand(45),
              east: rand(40),
              west: rand(55),
              north: rand(48),
              south: rand(52)
            };
            return acc;
          }, {})
        };
      }

      function render(data) {
        const r = data.readings;

        overallPsiEl.textContent = r["psi_twenty_four_hourly"].national;
        pm25El.textContent = r["pm25_sub_index"].national;

        const psi = r["psi_twenty_four_hourly"];
        const worst = Object.keys(psi).reduce((a, b) => psi[a] > psi[b] ? a : b);

        worstAreaEl.textContent = worst;
        lastUpdatedEl.textContent = "Last updated: " +
          data.timestamp.toLocaleString();

        tableBody.innerHTML = parameters
          .map(p => `
            <tr class="border-t border-gray-200 hover:bg-gray-100/50">
              <td class="py-2">${names[p]}</td>
              <td class="py-2">${r[p].national}</td>
              <td class="py-2">${r[p].central}</td>
              <td class="py-2">${r[p].east}</td>
              <td class="py-2">${r[p].west}</td>
              <td class="py-2">${r[p].north}</td>
              <td class="py-2">${r[p].south}</td>
            </tr>
          `)
          .join("");
      }

      function initA1() {
        render(generateMock());
        setInterval(() => {
          render(generateMock());
        }, 60000);
      }
      initA1();
    </script>

  </div>
</section>

<!-- ========== Assignment 2: SVG Transformations ========== -->
<section id="a2" class="card">
  <h2>Assignment 2 ‚Äì SVG Transformations</h2>
  <div class="a2-root">

    <h1>My SVG Transformations</h1>

    <table>
      <thead>
        <tr>
          <th>Original</th>
          <th>Mirror</th>
          <th>Rotate 180¬∞</th>
          <th>Squeeze Y 50%</th>
          <th>Grayscale</th>
        </tr>
      </thead>

      <tbody>
        <!-- Row 1 -->
        <tr>
          <td><svg viewBox="0 0 100 100" class="svgi"><path d="M20 80 Q40 10 80 50 T20 80Z" fill="#ff6666" /></svg></td>
          <td><svg viewBox="0 0 100 100" class="svgi mirror"><path d="M20 80 Q40 10 80 50 T20 80Z" fill="#ff6666" /></svg></td>
          <td><svg viewBox="0 0 100 100" class="svgi rot180"><path d="M20 80 Q40 10 80 50 T20 80Z" fill="#ff6666" /></svg></td>
          <td><svg viewBox="0 0 100 100" class="svgi squeezeY"><path d="M20 80 Q40 10 80 50 T20 80Z" fill="#ff6666" /></svg></td>
          <td><svg viewBox="0 0 100 100" class="svgi gray"><path d="M20 80 Q40 10 80 50 T20 80Z" fill="#ff6666" /></svg></td>
        </tr>

        <!-- Row 2 -->
        <tr>
          <td>
            <svg viewBox="0 0 200 200" class="svgi">
              <path d="M12 120 Q60 40 120 48 Q160 52 188 18 Q176 90 112 130 Q78 156 12 120Z" fill="#ff8a65"/>
              <circle cx="85" cy="80" r="4" fill="#4e342e"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi mirror">
              <path d="M12 120 Q60 40 120 48 Q160 52 188 18 Q176 90 112 130 Q78 156 12 120Z" fill="#ff8a65"/>
              <circle cx="85" cy="80" r="4" fill="#4e342e"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi rot180">
              <path d="M12 120 Q60 40 120 48 Q160 52 188 18 Q176 90 112 130 Q78 156 12 120Z" fill="#ff8a65"/>
              <circle cx="85" cy="80" r="4" fill="#4e342e"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi squeezeY">
              <path d="M12 120 Q60 40 120 48 Q160 52 188 18 Q176 90 112 130 Q78 156 12 120Z" fill="#ff8a65"/>
              <circle cx="85" cy="80" r="4" fill="#4e342e"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi gray">
              <path d="M12 120 Q60 40 120 48 Q160 52 188 18 Q176 90 112 130 Q78 156 12 120Z" fill="#ff8a65"/>
              <circle cx="85" cy="80" r="4" fill="#4e342e"/>
            </svg>
          </td>
        </tr>

        <!-- Row 3 -->
        <tr>
          <td>
            <svg viewBox="0 0 200 200" class="svgi">
              <path d="M20 130 Q30 60 100 40 Q170 60 180 130 Q170 150 100 160 Q30 150 20 130Z" fill="#4fc3f7"/>
              <circle cx="80" cy="90" r="5" fill="#01579b"/>
              <circle cx="120" cy="90" r="5" fill="#01579b"/>
              <path d="M70 120 Q100 135 130 120" stroke="#01579b" stroke-width="4" fill="none"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi mirror">
              <path d="M20 130 Q30 60 100 40 Q170 60 180 130 Q170 150 100 160 Q30 150 20 130Z" fill="#4fc3f7"/>
              <circle cx="80" cy="90" r="5" fill="#01579b"/>
              <circle cx="120" cy="90" r="5" fill="#01579b"/>
              <path d="M70 120 Q100 135 130 120" stroke="#01579b" stroke-width="4" fill="none"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi rot180">
              <path d="M20 130 Q30 60 100 40 Q170 60 180 130 Q170 150 100 160 Q30 150 20 130Z" fill="#4fc3f7"/>
              <circle cx="80" cy="90" r="5" fill="#01579b"/>
              <circle cx="120" cy="90" r="5" fill="#01579b"/>
              <path d="M70 120 Q100 135 130 120" stroke="#01579b" stroke-width="4" fill="none"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi squeezeY">
              <path d="M20 130 Q30 60 100 40 Q170 60 180 130 Q170 150 100 160 Q30 150 20 130Z" fill="#4fc3f7"/>
              <circle cx="80" cy="90" r="5" fill="#01579b"/>
              <circle cx="120" cy="90" r="5" fill="#01579b"/>
              <path d="M70 120 Q100 135 130 120" stroke="#01579b" stroke-width="4" fill="none"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi gray">
              <path d="M20 130 Q30 60 100 40 Q170 60 180 130 Q170 150 100 160 Q30 150 20 130Z" fill="#4fc3f7"/>
              <circle cx="80" cy="90" r="5" fill="#01579b"/>
              <circle cx="120" cy="90" r="5" fill="#01579b"/>
              <path d="M70 120 Q100 135 130 120" stroke="#01579b" stroke-width="4" fill="none"/>
            </svg>
          </td>
        </tr>

        <!-- Row 4 -->
        <tr>
          <td>
            <svg viewBox="0 0 200 200" class="svgi">
              <rect x="40" y="40" width="120" height="120" rx="20" fill="#ffcc80"/>
              <rect x="60" y="60" width="80" height="80" rx="15" fill="#ffffff"/>
              <circle cx="80" cy="90" r="6" fill="#5d4037"/>
              <circle cx="120" cy="90" r="6" fill="#5d4037"/>
              <path d="M80 120 Q100 135 120 120" stroke="#5d4037" stroke-width="4" fill="none"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi mirror">
              <rect x="40" y="40" width="120" height="120" rx="20" fill="#ffcc80"/>
              <rect x="60" y="60" width="80" height="80" rx="15" fill="#ffffff"/>
              <circle cx="80" cy="90" r="6" fill="#5d4037"/>
              <circle cx="120" cy="90" r="6" fill="#5d4037"/>
              <path d="M80 120 Q100 135 120 120" stroke="#5d4037" stroke-width="4" fill="none"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi rot180">
              <rect x="40" y="40" width="120" height="120" rx="20" fill="#ffcc80"/>
              <rect x="60" y="60" width="80" height="80" rx="15" fill="#ffffff"/>
              <circle cx="80" cy="90" r="6" fill="#5d4037"/>
              <circle cx="120" cy="90" r="6" fill="#5d4037"/>
              <path d="M80 120 Q100 135 120 120" stroke="#5d4037" stroke-width="4" fill="none"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi squeezeY">
              <rect x="40" y="40" width="120" height="120" rx="20" fill="#ffcc80"/>
              <rect x="60" y="60" width="80" height="80" rx="15" fill="#ffffff"/>
              <circle cx="80" cy="90" r="6" fill="#5d4037"/>
              <circle cx="120" cy="90" r="6" fill="#5d4037"/>
              <path d="M80 120 Q100 135 120 120" stroke="#5d4037" stroke-width="4" fill="none"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi gray">
              <rect x="40" y="40" width="120" height="120" rx="20" fill="#ffcc80"/>
              <rect x="60" y="60" width="80" height="80" rx="15" fill="#ffffff"/>
              <circle cx="80" cy="90" r="6" fill="#5d4037"/>
              <circle cx="120" cy="90" r="6" fill="#5d4037"/>
              <path d="M80 120 Q100 135 120 120" stroke="#5d4037" stroke-width="4" fill="none"/>
            </svg>
          </td>
        </tr>

        <!-- Row 5 -->
        <tr>
          <td>
            <svg viewBox="0 0 200 200" class="svgi">
              <rect x="40" y="90" width="110" height="18" rx="6" fill="#d7ccc8"/>
              <path d="M40 90 H150 Q170 90 170 110 V130 Q170 150 140 158 H50 Q30 150 30 130 V110 Q30 90 40 90 Z" fill="#ffcc80"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi mirror">
              <rect x="40" y="90" width="110" height="18" rx="6" fill="#d7ccc8"/>
              <path d="M40 90 H150 Q170 90 170 110 V130 Q170 150 140 158 H50 Q30 150 30 130 V110 Q30 90 40 90 Z" fill="#ffcc80"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi rot180">
              <rect x="40" y="90" width="110" height="18" rx="6" fill="#d7ccc8"/>
              <path d="M40 90 H150 Q170 90 170 110 V130 Q170 150 140 158 H50 Q30 150 30 130 V110 Q30 90 40 90 Z" fill="#ffcc80"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi squeezeY">
              <rect x="40" y="90" width="110" height="18" rx="6" fill="#d7ccc8"/>
              <path d="M40 90 H150 Q170 90 170 110 V130 Q170 150 140 158 H50 Q30 150 30 130 V110 Q30 90 40 90 Z" fill="#ffcc80"/>
            </svg>
          </td>
          <td>
            <svg viewBox="0 0 200 200" class="svgi gray">
              <rect x="40" y="90" width="110" height="18" rx="6" fill="#d7ccc8"/>
              <path d="M40 90 H150 Q170 90 170 110 V130 Q170 150 140 158 H50 Q30 150 30 130 V110 Q30 90 40 90 Z" fill="#ffcc80"/>
            </svg>
          </td>
        </tr>

        <!-- Row 6: Whale -->
        <tr>
          <td><svg viewBox="0 0 200 200" class="svgi"><path d="M10 110 Q40 80 110 86 Q150 88 185 108 Q165 130 120 126 Q84 122 40 150 Q24 160 10 140 Z" fill="#4db6ac"/><circle cx="60" cy="100" r="4" fill="#014f4f"/></svg></td>
          <td><svg viewBox="0 0 200 200" class="svgi mirror"><path d="M10 110 Q40 80 110 86 Q150 88 185 108 Q165 130 120 126 Q84 122 40 150 Q24 160 10 140 Z" fill="#4db6ac"/><circle cx="60" cy="100" r="4" fill="#014f4f"/></svg></td>
          <td><svg viewBox="0 0 200 200" class="svgi rot180"><path d="M10 110 Q40 80 110 86 Q150 88 185 108 Q165 130 120 126 Q84 122 40 150 Q24 160 10 140 Z" fill="#4db6ac"/><circle cx="60" cy="100" r="4" fill="#014f4f"/></svg></td>
          <td><svg viewBox="0 0 200 200" class="svgi squeezeY"><path d="M10 110 Q40 80 110 86 Q150 88 185 108 Q165 130 120 126 Q84 122 40 150 Q24 160 10 140 Z" fill="#4db6ac"/><circle cx="60" cy="100" r="4" fill="#014f4f"/></svg></td>
          <td><svg viewBox="0 0 200 200" class="svgi gray"><path d="M10 110 Q40 80 110 86 Q150 88 185 108 Q165 130 120 126 Q84 122 40 150 Q24 160 10 140 Z" fill="#4db6ac"/><circle cx="60" cy="100" r="4" fill="#014f4f"/></svg></td>
        </tr>
      </tbody>
    </table>

    <p style="margin-top: 20px;">Author: <strong>Lily</strong></p>
  </div>
</section>

<!-- ========== Assignment 3: SVG 1‚Äì5 Collection ========== -->
<section id="a3" class="card">
  <h2>Assignment 3 ‚Äì SVG Animations and Training Logs</h2>
  <div class="a3-root">

    <!-- SVG 1 -->
    <section id="svg1">
      <h2>SVG 1</h2>
      <div class="svg1-block">
        <svg viewBox="0 0 220 300">
          <circle cx="50" cy="40" r="4" fill="red"/>
          <text x="50" y="30" font-size="14">A</text>

          <circle cx="50" cy="180" r="4" fill="black"/>
          <text x="40" y="190" font-size="14">B</text>

          <circle cx="150" cy="250" r="4" fill="teal"/>
          <text x="150" y="265" font-size="14">C</text>

          <circle cx="150" cy="110" r="4" fill="black"/>
          <text x="155" y="110" font-size="14">D</text>

          <path d="M50 40 L150 110 L150 250 L50 180 Z"
                fill="none" stroke="black" stroke-width="5"
                class="border-grow"/>

          <line x1="50" y1="40" x2="150" y2="250"
                stroke="dodgerblue" stroke-width="4" class="ac-line"/>

          <line x1="50" y1="180" x2="150" y2="110"
                stroke="black" stroke-width="4" class="bd-line"/>

          <polygon points="140,105 150,110 140,115" fill="black"/>
        </svg>

        <details>
          <summary>üìå Click to view how I instructed ChatGPT to build this animation</summary>
          <br>
          1Ô∏è‚É£ I first asked: ‚ÄúMake this picture move using HTML.‚Äù<br>
          2Ô∏è‚É£ Then I required: ‚ÄúThe shape must be a parallelogram.‚Äù<br>
          3Ô∏è‚É£ I added: ‚ÄúThe border must flow from point A to point D.‚Äù<br>
          4Ô∏è‚É£ I refined it: ‚ÄúNo looping dashed lines, it must grow from A.‚Äù<br>
          5Ô∏è‚É£ I updated the request: ‚ÄúMake the internal dashed lines flow with arrows.‚Äù<br>
          6Ô∏è‚É£ I emphasized: ‚ÄúDo NOT change my code structure.‚Äù<br>
          7Ô∏è‚É£ I asked: ‚ÄúRepeat the final version of the code.‚Äù<br>
          8Ô∏è‚É£ Finally I said: ‚ÄúWrite the whole command process into HTML and fold it.‚Äù<br>
        </details>
      </div>
    </section>

    <!-- SVG 2 -->
    <section id="svg2">
      <h2>SVG 2</h2>
      <div class="svg2-block">

        <div class="board">
          <svg viewBox="0 0 673 631"
               xmlns="http://www.w3.org/2000/svg"
               xmlns:xlink="http://www.w3.org/1999/xlink">

            <defs>
              <marker id="arrowHead" markerWidth="8" markerHeight="8"
                      refX="2" refY="3.5" orient="auto">
                <path d="M0,0 L0,7 L7,3.5 Z" />
              </marker>
            </defs>

            <!-- Extended S-path -->
            <path id="racePath" class="cover"
                  d="
                    M345 96
                    C 385 115 420 135 455 170
                    C 425 210 390 245 355 285
                    C 390 320 430 350 470 380
                    C 430 410 380 440 330 470
                    C 375 500 430 518 490 535
                    C 530 550 575 560 620 570
                  " />

            <path class="flow"
                  d="
                    M345 96
                    C 385 115 420 135 455 170
                    C 425 210 390 245 355 285
                    C 390 320 430 350 470 380
                    C 430 410 380 440 330 470
                    C 375 500 430 518 490 535
                    C 530 550 575 560 620 570
                  " />

            <!-- Orange moving block -->
            <rect class="runner" x="-25" y="-25">
              <animateMotion
                  dur="8.5s"
                  repeatCount="indefinite"
                  rotate="auto"
                  keyTimes="0;0.20;0.40;0.60;0.80;1"
                  keyPoints="0;0.18;0.45;0.65;0.85;1">
                <mpath xlink:href="#racePath" />
              </animateMotion>
            </rect>

            <!-- Start -->
            <rect x="325" y="56" width="50" height="50"
                  fill="#5f9bff" stroke="black"/>
            <text x="292" y="50" font-size="14">random start</text>
            <text x="350" y="87" font-size="14">x</text>

            <!-- End -->
            <rect x="595" y="545" width="50" height="50"
                  fill="#ff6c6c" stroke="black"/>
            <text x="615" y="575" font-size="20">x</text>

            <!-- Label -->
            <text x="430" y="520" font-size="20" fill="#5f9bff">covered space</text>
            <text x="430" y="545" font-size="18" fill="#555">no coverage</text>
          </svg>
        </div>

        <button id="svg2-btn" onclick="toggleSvg2()">CLICK to view SVG TWO</button>

        <div id="svg2-panel">
          <b>SVG TWO ‚Äî TRAINING SUMMARY</b><br><br>
          1Ô∏è‚É£ Rebuilt original figure layout in SVG<br>
          2Ô∏è‚É£ Added a new orange block without altering existing elements<br>
          3Ô∏è‚É£ Orange block must match blue/red size (50√ó50)<br>
          4Ô∏è‚É£ Forced movement strictly along dashed path<br>
          5Ô∏è‚É£ Converted path to twisted ‚Äúrace track‚Äù geometry<br>
          6Ô∏è‚É£ Introduced speed changes at turning segments<br>
          7Ô∏è‚É£ Extended track with multiple S-curves<br>
          8Ô∏è‚É£ Final red block relocated to true path endpoint<br>
          9Ô∏è‚É£ Looping animation required<br>
          üîü Final code must be copy-paste runnable without extra steps
        </div>
      </div>
    </section>

    <script>
      function toggleSvg2(){
        let p=document.getElementById("svg2-panel");
        p.style.display = (p.style.display==="block") ? "none" : "block";
      }
    </script>

    <!-- SVG 3 -->
    <section id="svg3">
      <h2>SVG 3</h2>
      <div class="svg3-block">
        <svg width="614" height="675" viewBox="0 0 614 675"
             xmlns="http://www.w3.org/2000/svg">
          <g stroke="#7a83c9" stroke-width="3"
             fill="none" stroke-linecap="round" stroke-linejoin="round">

            <!-- Chair -->
            <path d="M90 415 L520 385" />
            <path d="M60 400 L490 370" />
            <path d="M90 415 L90 615" />
            <path d="M60 400 L60 600" />
            <path d="M520 385 L520 585" />
            <path d="M490 370 L490 570" />
            <path d="M90 615 L520 585" />
            <path d="M60 600 L90 615" />
            <path d="M60 400 L90 415" />
            <path d="M490 370 L520 385" />

            <!-- Head -->
            <path d="M260 90 L455 90 L455 260 L260 260 Z" />
            <path d="M260 90 L215 105 L215 275 L260 260 Z" />
            <path d="M215 105 L260 90 L455 90 L410 105 Z" />

            <!-- Face -->
            <rect x="285" y="115" width="145" height="125" rx="4" />
            <line x1="305" y1="160" x2="330" y2="160" />
            <line x1="360" y1="160" x2="385" y2="160" />
            <line x1="320" y1="190" x2="370" y2="190" />

            <!-- Body -->
            <path d="M355 260 Q345 285 345 305" />
            <path d="M345 260 L345 360" />

            <!-- MOVING writing arm -->
            <g id="arm_write">
              <path d="M345 295 Q315 330 340 360" />
              <circle cx="355" cy="380" r="22" />
              <path d="M360 350 L395 295" />
              <polygon points="395,295 405,292 402,304" />
            </g>

            <!-- Static support arm -->
            <path d="M348 305 Q390 330 430 340" />
            <path d="M425 338 Q442 330 452 340 Q447 355 432 355 Z" />

            <!-- Paper -->
            <path d="M452 340
                     L505 325
                     Q550 335 590 360
                     L535 375
                     Q490 365 452 340 Z" />
            <path d="M475 333 Q500 346 520 355" />
            <path d="M488 328 Q512 341 535 352" />

            <!-- Legs -->
            <path d="M345 360 Q340 380 343 400" />
            <path d="M343 400 Q320 470 330 540" />
            <path d="M365 400 Q385 470 380 540" />

            <!-- Feet -->
            <path d="M328 540 Q318 555 323 575 Q340 575 350 560 Q338 545 328 540 Z" />
            <path d="M378 540 Q368 555 373 575 Q390 575 400 560 Q388 545 378 540 Z" />
          </g>
        </svg>

        <button onclick="toggleSteps3()">üìå Training Record</button>

        <div id="svg3-steps">
          <b>How I Was Trained to Produce the Animated Code</b><br><br>
          1. User provided a reference drawing and asked for SVG reconstruction.<br>
          2. SVG was corrected repeatedly until proportions matched the original sketch.<br>
          3. User requested animation, but only on the writing hand.<br>
          4. Extra arm line was detected and removed to avoid ‚Äúthree arms‚Äù.<br>
          5. Animation pivot was fixed at the shoulder to simulate real writing motion.<br>
          6. A final clean working version was delivered.<br>
          7. User requested a compact English training summary shown via orange button.<br>
          8. Both the animated figure and the summary were merged into one page.<br>
        </div>
      </div>
    </section>

    <script>
      function toggleSteps3(){
        const box = document.getElementById("svg3-steps");
        box.style.display =
          (box.style.display==="none" || box.style.display==="") ? "block" : "none";
      }
    </script>

    <!-- SVG 4 -->
    <section id="svg4">
      <h2>SVG 4</h2>
      <div class="svg4-block">

        <svg width="760" height="500" viewBox="0 0 760 500">
          <g stroke="#e6e6e6" stroke-width="1">
            <line x1="100" y1="440" x2="100" y2="60"/><line x1="160" y1="440" x2="160" y2="60"/><line x1="220" y1="440" x2="220" y2="60"/>
            <line x1="280" y1="440" x2="280" y2="60"/><line x1="340" y1="440" x2="340" y2="60"/><line x1="400" y1="440" x2="400" y2="60"/>
            <line x1="460" y1="440" x2="460" y2="60"/><line x1="520" y1="440" x2="520" y2="60"/><line x1="580" y1="440" x2="580" y2="60"/><line x1="640" y1="440" x2="640" y2="60"/>
            <line x1="100" y1="440" x2="640" y2="440"/><line x1="100" y1="380" x2="640" y2="380"/><line x1="100" y1="320" x2="640" y2="320"/>
            <line x1="100" y1="260" x2="640" y2="260"/><line x1="100" y1="200" x2="640" y2="200"/><line x1="100" y1="140" x2="640" y2="140"/><line x1="100" y1="80" x2="640" y2="80"/>
          </g>

          <path class="shade" fill="gray"
            d="M280,440 L280,345 290,330 300,300 310,260 320,220 330,205 340,200 350,205
               360,225 370,260 380,300 390,340 400,370 400,440 Z"/>

          <path stroke="#e7b22b"
            d="M100,438 L120,435 L140,430 L160,420 L180,400 L200,370 L220,330 L240,285 L260,240 L280,200
               300,170 320,150 340,140 360,145 380,165 400,200 420,245 440,300 460,350 480,390
               500,418 520,432 540,438 560,439 580,439 600,440"/>

          <path stroke="#1d7b94"
            d="M100,440 L120,439 L140,437 L160,432 L180,420 L200,400 L220,370 L240,330 L260,285 L280,245
               300,210 320,185 340,175 360,180 380,200 400,240 420,290 440,340 460,378
               480,405 500,425 520,435 540,438 560,439 580,439 600,439"/>

          <line class="vline" stroke="#666" stroke-width="2" x1="280" y1="440" x2="280" y2="60"/>
          <line class="vline" stroke="#666" stroke-width="2" x1="400" y1="440" x2="400" y2="60"/>

          <line x1="100" y1="440" x2="660" y2="440" stroke="black" stroke-width="2"/>
          <polygon points="660,440 651,434 651,446" fill="black"/>
          <line x1="100" y1="440" x2="100" y2="40" stroke="black" stroke-width="2"/>
          <polygon points="100,40 94,52 106,52" fill="black"/>

          <rect x="430" y="95" width="18" height="3" fill="#e7b22b"/><text x="455" y="100" font-size="15">Yellow: p(x,y=0)¬∑v(x)</text>
          <rect x="430" y="125" width="18" height="3" fill="#1d7b94"/><text x="455" y="130" font-size="15">Blue: p(x,y=1)¬∑v(x)</text>
        </svg>

        <button class="btn" onclick="toggleSvg4()">Click to View Training Steps</button>

        <div id="svg4-logBox">
          <ol>
            <li>Show an image and request an HTML replica.</li>
            <li>Correct curves, colors, axes until visually identical.</li>
            <li>Ask to add animation that draws the graph progressively.</li>
            <li>Specify stroke-dash animation, fading shaded area, dashed lines.</li>
            <li>Require pure HTML+CSS+SVG, no external libraries.</li>
            <li>Request a concise English summary wrapped inside a button.</li>
            <li>Ask to merge final animation and summary into one single page.</li>
          </ol>
        </div>
      </div>
    </section>

    <script>
      function toggleSvg4(){
        let box=document.getElementById("svg4-logBox");
        box.style.display =
          (box.style.display==="none"||box.style.display==="") ? "block" : "none";
      }
    </script>

<!-- ============ SVG 5 ============ -->
<section id="svg5">
  <h2>SVG 5</h2>

  <div class="svg5-block">

    <style>
      /* --- SVG5 ÂÖÉÁ¥†ÁßªÂä®Âä®ÁîªÔºàËá™Âä®ÊóãËΩ¨Ôºâ --- */
      #svg5 .orbit {
        animation: orbitMove 6s linear infinite;
        transform-origin: 450px 270px;
      }

      @keyframes orbitMove {
        from { transform: rotate(0deg); }
        to   { transform: rotate(360deg); }
      }
    </style>

    <h1>three-primary colours</h1>

    <svg id="scene" viewBox="0 0 900 520">

      <defs>
        <radialGradient id="bigGrad" cx="50%" cy="30%" r="70%">
          <stop offset="0%" stop-color="#3b3320"/>
          <stop offset="100%" stop-color="#1e1a11"/>
        </radialGradient>

        <radialGradient id="redGrad" cx="30%" cy="30%" r="70%">
          <stop offset="0%" stop-color="#ff9e9e"/>
          <stop offset="60%" stop-color="#ff5050"/>
          <stop offset="100%" stop-color="#d40000"/>
        </radialGradient>

        <radialGradient id="greenGrad" cx="30%" cy="30%" r="70%">
          <stop offset="0%" stop-color="#c5ff9e"/>
          <stop offset="60%" stop-color="#59ff59"/>
          <stop offset="100%" stop-color="#00b800"/>
        </radialGradient>

        <radialGradient id="blueGrad" cx="30%" cy="30%" r="70%">
          <stop offset="0%" stop-color="#9ec5ff"/>
          <stop offset="60%" stop-color="#3b7dff"/>
          <stop offset="100%" stop-color="#0037d4"/>
        </radialGradient>
      </defs>

      <circle id="bigCircle" cx="450" cy="270" r="130" fill="url(#bigGrad)" />

      <line id="lineR" x1="450" y1="270" x2="720" y2="230"
            stroke="#ff6e6e" stroke-width="3" stroke-dasharray="7 7"/>
      <line id="lineG" x1="450" y1="270" x2="230" y2="360"
            stroke="#66ff88" stroke-width="3" stroke-dasharray="7 7"/>
      <line id="lineB" x1="450" y1="270" x2="230" y2="130"
            stroke="#6ba0ff" stroke-width="3" stroke-dasharray="7 7"/>

      <g class="node orbit" id="nodeR" data-r="255" data-g="0" data-b="0">
        <circle id="redCircle" cx="720" cy="230" r="70"
                fill="url(#redGrad)" stroke="#ff4d4d" stroke-width="4"/>
        <circle class="handle" cx="720" cy="230" r="13"
                fill="#fff" stroke="#c0c0c0" stroke-width="2"/>
      </g>

      <g class="node orbit" id="nodeG" data-r="0" data-g="255" data-b="0">
        <circle id="greenCircle" cx="230" cy="360" r="70"
                fill="url(#greenGrad)" stroke="#4eff6b" stroke-width="4"/>
        <circle class="handle" cx="230" cy="360" r="13"
                fill="#fff" stroke="#c0c0c0" stroke-width="2"/>
      </g>

      <g class="node orbit" id="nodeB" data-r="0" data-g="0" data-b="255">
        <circle id="blueCircle" cx="230" cy="130" r="70"
                fill="url(#blueGrad)" stroke="#4d6eff" stroke-width="4"/>
        <circle class="handle" cx="230" cy="130" r="13"
                fill="#fff" stroke="#c0c0c0" stroke-width="2"/>
      </g>

    </svg>
  </div>
</section>


    <script>
      function toggleSvg5Steps(){
        const box = document.getElementById("svg5-steps");
        box.style.display =
          (box.style.display==="none" || box.style.display==="") ? "block" : "none";
      }
    </script>

  </div>
</section>

<!-- ========== Assignment 4: D3 Heatmap ========== -->
<section id="a4" class="card">
  <h2>Assignment 4 ‚Äì D3 Heatmap</h2>

  <div class="a4-root">
    <div class="wrapper">
      <h1>Robust Accuracy under Different Attacks</h1>
      <p>This interactive heatmap visualises the accuracy of different defence methods under various adversarial attacks.</p>
      <p class="pill">Interaction: hover to inspect ¬∑ Transition: colour fade-in</p>

      <h2>Heatmap</h2>
      <div id="chart"></div>

      <h2>How to read</h2>
      <p>Rows represent <b>attacks</b>; columns represent <b>defence methods</b>.</p>
    </div>

    <div class="tooltip" id="tooltip"></div>
  </div>

  <script>
    // Data
    const tableData = [
      { attack:"No Attack", ERM:94.85, DA:94.21, PGDT:84.38, TRADES:80.42, MART:81.54, RS:89.45, IBP:48.40, PRL:93.82, TandT:94.23 },
      { attack:"TIFGSM", ERM:35.10, DA:33.00, PGDT:65.70, TRADES:62.90, MART:69.10, RS:45.40, IBP:40.20, PRL:34.00, TandT:92.80 },
      { attack:"MIFGSM", ERM:0.00, DA:0.00, PGDT:50.90, TRADES:51.90, MART:50.50, RS:5.80, IBP:38.10, PRL:0.00, TandT:92.80 },
      { attack:"DIFGSM", ERM:1.00, DA:0.00, PGDT:51.75, TRADES:50.50, MART:53.60, RS:4.10, IBP:38.10, PRL:3.10, TandT:92.80 },
      { attack:"VMIFGSM", ERM:0.00, DA:0.00, PGDT:51.10, TRADES:50.90, MART:51.90, RS:4.10, IBP:38.10, PRL:0.00, TandT:93.90 },
      { attack:"TPGD", ERM:38.10, DA:39.20, PGDT:69.30, TRADES:69.10, MART:70.10, RS:48.50, IBP:50.00, PRL:28.90, TandT:91.80 },
      { attack:"FGSM", ERM:29.90, DA:25.80, PGDT:57.95, TRADES:54.60, MART:61.90, RS:28.90, IBP:38.10, PRL:25.80, TandT:93.80 },
      { attack:"RFGSM", ERM:0.00, DA:0.00, PGDT:49.15, TRADES:50.40, MART:48.50, RS:3.70, IBP:38.10, PRL:0.00, TandT:90.00 },
      { attack:"BIM", ERM:0.00, DA:0.00, PGDT:52.00, TRADES:57.20, MART:47.40, RS:2.10, IBP:38.10, PRL:0.00, TandT:90.70 },
      { attack:"FAB", ERM:1.00, DA:2.10, PGDT:43.00, TRADES:46.40, MART:40.20, RS:5.30, IBP:38.10, PRL:4.10, TandT:90.10 },
      { attack:"CW", ERM:0.00, DA:0.00, PGDT:32.20, TRADES:35.10, MART:29.90, RS:1.00, IBP:40.20, PRL:1.00, TandT:92.90 },
      { attack:"UPGD", ERM:0.00, DA:0.00, PGDT:49.85, TRADES:50.50, MART:49.80, RS:5.10, IBP:38.10, PRL:0.00, TandT:93.80 },
      { attack:"FFGSM", ERM:19.60, DA:23.70, PGDT:60.55, TRADES:55.70, MART:66.00, RS:33.00, IBP:42.30, PRL:29.90, TandT:92.80 },
      { attack:"Jitter", ERM:11.30, DA:12.40, PGDT:48.15, TRADES:47.40, MART:49.50, RS:34.00, IBP:39.20, PRL:24.70, TandT:90.70 },
      { attack:"PGD", ERM:0.00, DA:0.00, PGDT:57.40, TRADES:54.60, MART:60.80, RS:7.20, IBP:40.20, PRL:0.00, TandT:91.80 },
      { attack:"EOTPGD", ERM:0.00, DA:0.00, PGDT:50.10, TRADES:50.30, MART:50.50, RS:3.00, IBP:38.10, PRL:0.00, TandT:90.70 },
      { attack:"APGD", ERM:0.00, DA:0.00, PGDT:48.40, TRADES:51.00, MART:46.40, RS:1.00, IBP:38.10, PRL:0.00, TandT:90.70 },
      { attack:"NIFGSM", ERM:0.00, DA:0.00, PGDT:57.95, TRADES:56.70, MART:59.80, RS:7.20, IBP:38.10, PRL:1.00, TandT:92.80 },
      { attack:"SiniFGSM", ERM:4.10, DA:1.00, PGDT:59.00, TRADES:56.70, MART:61.90, RS:23.70, IBP:38.10, PRL:12.40, TandT:93.70 },
      { attack:"VNIFGSM", ERM:0.00, DA:0.00, PGDT:50.45, TRADES:53.00, MART:48.50, RS:5.10, IBP:38.10, PRL:0.00, TandT:92.90 },
      { attack:"APGDT", ERM:0.00, DA:0.00, PGDT:40.90, TRADES:44.30, MART:38.10, RS:0.00, IBP:38.10, PRL:0.00, TandT:88.70 },
      { attack:"Square", ERM:0.00, DA:1.00, PGDT:50.40, TRADES:54.00, MART:47.40, RS:3.10, IBP:38.10, PRL:2.10, TandT:88.08 },
      { attack:"Add Gaussian Noise", ERM:25.80, DA:43.30, PGDT:79.10, TRADES:78.40, MART:80.40, RS:74.20, IBP:42.30, PRL:45.40, TandT:87.60 },
      { attack:"OnePixel", ERM:79.40, DA:83.50, PGDT:78.05, TRADES:74.20, MART:82.50, RS:83.50, IBP:42.50, PRL:80.40, TandT:89.70 },
      { attack:"Pixle", ERM:0.00, DA:0.00, PGDT:12.55, TRADES:11.30, MART:14.40, RS:1.00, IBP:10.30, PRL:0.00, TandT:17.50 },
      { attack:"PGDL2", ERM:1.00, DA:0.00, PGDT:35.80, TRADES:36.10, MART:36.10, RS:5.20, IBP:36.10, PRL:0.00, TandT:92.90 }
    ];

    const models = ["ERM","DA","PGDT","TRADES","MART","RS","IBP","PRL","TandT"];
    const attacks = tableData.map(d => d.attack);
    const cells = [];

    tableData.forEach(r => {
      models.forEach(m => {
        cells.push({ attack:r.attack, model:m, value:r[m] });
      });
    });

    const margin = { top:150, right:120, bottom:40, left:220 };
    const cellSize = 40;
    const width = models.length * cellSize;
    const height = attacks.length * cellSize;

    const svg = d3.select("#chart").append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom);

    const g = svg.append("g")
      .attr("transform", `translate(${margin.left},${margin.top})`);

    const x = d3.scaleBand().domain(models).range([0,width]);
    const y = d3.scaleBand().domain(attacks).range([0,height]);

    const extent = d3.extent(cells, d => d.value);
    const color = d3.scaleLinear()
      .domain([extent[0], extent[1]])
      .range(["#fff7ec", "#ff7b22"]);

    // Column labels
    const xLabels = svg.append("g")
      .attr("class","model-label")
      .attr("transform",`translate(${margin.left},${margin.top-10})`);

    xLabels.selectAll("text")
      .data(models)
      .enter()
      .append("text")
      .attr("x", d => x(d) + cellSize/2)
      .attr("y", 0)
      .attr("text-anchor","middle")
      .text(d => d);

    // Row labels
    const yLabels = svg.append("g")
      .attr("class","attack-label")
      .attr("transform",`translate(${margin.left-10},${margin.top})`);

    yLabels.selectAll("text")
      .data(attacks)
      .enter()
      .append("text")
      .attr("x", 0)
      .attr("y", d => y(d) + cellSize/2)
      .attr("dy","0.35em")
      .attr("text-anchor","end")
      .text(d => d);

    const tooltip = d3.select("#tooltip");

    // Draw cells
    const rect = g.selectAll(".cell")
      .data(cells)
      .enter()
      .append("rect")
      .attr("class","cell")
      .attr("x", d => x(d.model))
      .attr("y", d => y(d.attack))
      .attr("width", cellSize)
      .attr("height", cellSize)
      .style("fill","#ffffff")
      .style("opacity",0);

    rect.transition()
      .delay((d,i)=>i*10)
      .duration(600)
      .style("fill", d => color(d.value))
      .style("opacity",1);

    rect.on("mouseover", function(evt,d){
      d3.select(this).classed("cell-active",true);
      tooltip.style("opacity",1)
        .html(`<b>${d.attack}</b><br>Method: ${d.model}<br>Acc: ${d.value}%`)
        .style("left",(evt.pageX+12)+"px")
        .style("top", (evt.pageY-20)+"px");
    }).on("mousemove", function(evt){
      tooltip.style("left",(evt.pageX+12)+"px")
             .style("top", (evt.pageY-20)+"px");
    }).on("mouseout", function(){
      d3.select(this).classed("cell-active",false);
      tooltip.style("opacity",0);
    });

    // Legend
    const legend = svg.append("g")
      .attr("transform",`translate(${margin.left},${margin.top-60})`);

    const legendWidth = 160;
    const legendHeight = 10;

    const defs = svg.append("defs");
    const gradient = defs.append("linearGradient")
      .attr("id","grad")
      .attr("x1","0%").attr("x2","100%")
      .attr("y1","0%").attr("y2","0%");

    gradient.append("stop").attr("offset","0%").attr("stop-color",color(extent[0]));
    gradient.append("stop").attr("offset","100%").attr("stop-color",color(extent[1]));

    legend.append("rect")
      .attr("width",legendWidth)
      .attr("height",legendHeight)
      .style("fill","url(#grad)")
      .attr("stroke","#ccc");

    legend.append("text")
      .attr("class","legend-title")
      .attr("x",0).attr("y",-6)
      .text("Accuracy (%)");

    legend.append("text")
      .attr("class","legend-label")
      .attr("x",0).attr("y",legendHeight+12)
      .text(extent[0].toFixed(1));

    legend.append("text")
      .attr("class","legend-label")
      .attr("x",legendWidth)
      .attr("y",legendHeight+12)
      .attr("text-anchor","end")
      .text(extent[1].toFixed(1));
  </script>
</section>

<!-- Back to top button -->
<button id="topBtn" onclick="topFunction()">Back to top</button>

</body>
</html>
